// fragment fill shader
precision mediump float;

uniform sampler2D bufferTexture;

in vec2 fragTexCoord;

out vec4 finalColor;

void main() {
	float modif = length(texture(bufferTexture, fragTexCoord).rgb);
	modif *= -0.2 - modif;
	vec3 color = texture(bufferTexture, fragTexCoord).rgb * modif;
	color = 1.0 - exp(-color);
	
	finalColor = vec4(color, 1);
}